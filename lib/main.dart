import 'package:flutter/material.dart';import 'package:firebase_core/firebase_core.dart';import 'package:firebase_messaging/firebase_messaging.dart';//import 'package:flutter/cupertino.dart';import 'package:flutter_bloc/flutter_bloc.dart';import 'package:socialapp/shared/cubit/cubit.dart';import 'package:socialapp/shared/cubit/states.dart';import 'package:socialapp/shared/network/local/cachhelper.dart';import 'package:socialapp/shared/network/remote/diohelper.dart';import 'package:socialapp/shared/styles/bloc_opserfer/bloc.dart';import 'package:socialapp/shared/styles/themes.dart';import 'package:socialapp/social_app/homelayout.dart';import 'package:socialapp/social_login/login.dart';import 'package:socialapp/social_login/social_login.dart';import 'hh.dart';import 'social_app/social_cubit.dart';void main() async {  WidgetsFlutterBinding.ensureInitialized();  await Firebase.initializeApp(      // options: DefaultFirebaseOptions.currentPlatform,      );  print('31');  BlocOverrides.runZoned(    () {      // Use cubits...    },    blocObserver: MyBlocObserver(),  );  /*  print('38');  var token = FirebaseMessaging.instance.getToken();  print(token);  FirebaseMessaging.onMessage.listen((event) {    print(event.data.toString());    Showtost(text: 'on message', state: teaststates.SUCCESS);  });  FirebaseMessaging.onMessageOpenedApp.listen((event) {    print(event.data.toString());    Showtost(text: 'on message open app', state: teaststates.SUCCESS);  });  FirebaseMessaging.onBackgroundMessage((message) async {    print(message.data.toString());    Showtost(text: 'on Background Message', state: teaststates.SUCCESS);  });*/  //var token = ' ';  Diohelper.init();  await CachHelper.init();  Widget Screen;//shop app  // bool? onboarding = CachHelper.getdatashop(key: 'onboarding');  //shopapp  // String? token = CachHelper.getdatashop(key: 'token');  // print(onboarding.toString());  bool? isDark = CachHelper.getdata(key: 'isDark');//shopapp  //if (onboarding != null) {  // if (token != null)  //  Screen = HLogin();  // else  //  Screen = ShopLogin();  // } else {  // Screen = ONBording();  // }  //Screen = ONBording();  // social app  Widget WaScreen;//  var uId = 1;  var uId = CachHelper.getdatashop(key: 'uId');  if (uId != null) {    WaScreen = Social_Layout();  } else {    WaScreen = socialLogen();  }  print('83');  runApp(MyApp(    isDark: isDark,    WaScreen: WaScreen,  ));  // runApp(const MyApp());}class MyApp extends StatelessWidget {  // const MyApp(bool bool,  //   {Key? key,this.isDark,this.onboarding})  // : super(key: key);  bool? isDark;  Widget? WaScreen;  MyApp({this.isDark, this.WaScreen});  // This widget is the root of your application.  @override  Widget build(BuildContext context) {    print('before build');    return MultiBlocProvider(      providers: [        BlocProvider(            create: (BuildContext context) =>                AppCubit()..changmode(fromn: isDark!)),        //  BlocProvider(        //  create: (BuildContext context) => SocialCubit()        //   ..GetUser()        //  ..getPosts(),        //  )      ],      child: BlocConsumer<AppCubit, AppStates>(        listener: (BuildContext context, state) {},        builder: (BuildContext context, state) {          return MaterialApp(            debugShowCheckedModeBanner: false,            //  home: BMI(),            //home: hoooome(),            //  home: Home_Layout(),            //home: Text('sdfghjk'),            //  home: CounterScreen(),            /// nwewssssssssssssssssssss            ///            //  home: social_login(),            theme: lighttheme,            darkTheme: derktheme,            themeMode: AppCubit.getApp(context).isdark                ? ThemeMode.dark                : ThemeMode.light,            //    home: login(),            home: tet(),            // home: NewsScreen(),            //     home: Screen,            //   home: socialLogen(),            // home: Social_Layout(),            // home: WaScreen,            //  home: ChatDetails(),            // home: onboarding? ShopLogin():ONBording()            //home: Users(),          );        },      ),    );  }}